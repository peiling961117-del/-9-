<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ—¥æœ¬ä¹‹æ—…è¡Œç¨‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* å¼•å…¥å­—é«”ï¼šæ–°å¢ Noto Serif TC (å®‹é«”) ç”¨æ–¼æ¨™é¡Œï¼Œç‡Ÿé€ æ—¥å¼æ°›åœ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@500;700&family=Roboto+Mono:wght@400;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', Inter, sans-serif;
            background-color: #f2f4f6; /* ç¨å¾®å¸¶å†·ç°çš„èƒŒæ™¯ï¼Œè¥¯æ‰˜å¡ç‰‡çš„æš–è‰² */
            color: #333333; /* ç‚­ç°è‰²æ–‡å­—ï¼Œæ¯”ç´”é»‘æŸ”å’Œ */
            font-size: 1rem; 
            -webkit-tap-highlight-color: transparent;
        }

        /* æ—¥å¼æ¨™é¡Œå­—é«” */
        .font-serif-jp {
            font-family: 'Noto Serif TC', serif;
        }

        /* å¤§è¢å¹•èª¿æ•´ */
        @media (min-width: 768px) {
            body {
                font-size: 1.125rem; 
            }
        }

        /* éš±è—åŸç”Ÿæ»¾å‹•æ¢ */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .itinerary-item {
            transition: all 0.2s ease-in-out;
        }
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }

        /* RWD æ™‚é–“æ¬„ä½è¨­å®š */
        .time-column {
            width: 60px;
            text-align: right;
            padding-right: 0.75rem;
            position: relative; 
            z-index: 1; 
            flex-shrink: 0;
        }
        
        @media (min-width: 768px) {
            .time-column {
                width: 80px; 
                padding-right: 1.5rem;
            }
        }

        /* æ™‚é–“è»¸åœ“é» */
        .timeline-dot {
            position: absolute;
            right: -5px;
            top: 1.5rem; 
            transform: translateY(-50%);
            width: 10px; 
            height: 10px;
        }
        
        @media (min-width: 768px) {
            .timeline-dot {
                right: -3px;
                top: 1.6rem;
            }
        }

        /* æ™‚é–“è»¸ç·šæ¢ */
        .timeline-line {
            position: absolute;
            left: 60px;
            top: 0;
            bottom: 0;
            width: 1px; 
            background-color: #e0e0e0; 
            z-index: 0;
        }

        @media (min-width: 768px) {
            .timeline-line {
                left: 80px;
            }
        }

        #date-nav {
            top: 85px;
        }
        @media (min-width: 768px) {
            #date-nav {
                top: 96px;
            }
        }
        
        /* æ—¥å¼å¡ç‰‡ç´‹ç†æ•ˆæœ (å¯é¸) */
        .bg-washi {
            background-color: #fafaf6;
            background-image: url("data:image/svg+xml,%3Csvg width='4' height='4' viewBox='0 0 4 4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 3h1v1H1V3zm2-2h1v1H3V1z' fill='%23dcdcdc' fill-opacity='0.15' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
    </style>
</head>
<body class="min-h-screen">

    <div id="app" class="max-w-xl mx-auto bg-white min-h-screen shadow-lg pb-10">

        <!-- Header -->
        <header class="sticky top-0 z-20 bg-white border-b border-gray-200 p-3 md:p-4 shadow-sm h-[85px] md:h-[96px] flex flex-col justify-center">
            <h1 class="text-2xl md:text-3xl font-serif-jp font-bold text-gray-800 text-center tracking-wide">æ—¥æœ¬è¡Œç¨‹ç¸½è¦½</h1>
            <p class="text-sm md:text-base text-gray-500 text-center mt-1 font-serif-jp">ç€¨æˆ¶å…§æµ· (å…±9æ—¥)</p>
        </header>
        
        <nav id="date-nav" class="no-scrollbar sticky z-10 bg-white/95 backdrop-blur-sm border-b border-gray-200 overflow-x-auto flex flex-row p-2 space-x-2"></nav>

        <main id="itinerary-content" class="p-3 md:p-4"></main>

        <div id="footer-message" class="p-4 text-center text-sm md:text-base text-gray-400 font-serif-jp"> 
            ğŸ’¡ æ­¤ç‚ºç´”ç€è¦½æ¨¡å¼
        </div>

    </div>

    <script>
        // è¡Œç¨‹æ•¸æ“šçµæ§‹
        let itineraryData = [
            {
                date: "11/29(å…­)",
                theme: "å²¡å±±/é«˜æ¾",
                city: "å²¡å±±ãƒ»é«˜æ¾",
                events: [
                    { time: "11:10-14:35", location: "æ­é£›æ©Ÿ", note: "æ³¨æ„åœ‹éš›ç·šéœ€æå‰2.5å°æ™‚åˆ°å ´", type: "transport" },
                    { time: "16:00-16:30", location: "å²¡å±±ç«™ Okayama", note: "æ­ä¹˜æ©Ÿå ´å·´å£«åˆ°å²¡å±±ç«™(å¯åˆ·ICå¡)ï¼Œä¸¦åœ¨å²¡å±±ç«™é–‹é€š JR PASS", type: "transport" },
                    { time: "16:40-17:35", location: "é«˜æ¾ç«™ Takamatsu", note: "å¾€é«˜æ¾ç­æ¬¡ï¼Œè»Šç¨‹ç´„1å°æ™‚ã€‚å»ºè­°ç­æ¬¡ï¼š15:42, 16:13, 16:42, 17:13, 17:42, 18:13", type: "transport" },
                    { time: "Check-in", location: "é«˜æ¾ç«™å‰è¶…ç´šæ—…é¤¨", note: "è»Šç«™æ­¥è¡Œå¤§ç´„2åˆ°3åˆ†é˜", type: "stay" },
                    { time: "æ™šé¤", location: "ãŠé£Ÿäº‹å‡¦ ã¾ã¤ãŠã‹", note: "è·é›¢é«˜æ¾ç«™ 600å…¬å°º (ç´„1000æ—¥åœ“)", type: "dining" },
                    { time: "æ™šä¸Š", location: "é«˜æ¾ä¸¸é¾œç”ºå•†åº—è¡—ã€é«˜æ¾æ¸¯å¤œæ™¯", note: "å››åœ‹æœ€é•·çš„å•†åº—è¡—", type: "sightseeing" },
                ]
            },
            {
                date: "11/30(æ—¥)",
                theme: "å°è±†å³¶",
                city: "å°è±†å³¶",
                events: [
                    { time: "07:20-07:30", location: "é£¯åº—è‡³é«˜æ¾æ¸¯", note: "å¾é£¯åº—æ­¥è¡Œç´„5-7åˆ†é˜(èµ°æ…¢~10åˆ†é˜å…§)è·é›¢ç´„650å…¬å°ºã€‚èˆ¹ç¥¨é€šå¸¸åœ¨å‡ºèˆªå‰ç´„30åˆ†é˜é–‹å§‹è²©å”®ï¼Œå»ºè­°è‡³å°‘åœ¨7:30åˆ°é”ç¢¼é ­ã€‚", type: "transport" },
                    { time: "08:02-09:02", location: "é«˜æ¾æ¸¯-åœŸåº„æ¸¯", note: "è³¼è²·å°è±†å³¶å³¶å…§1æ—¥å·´å£«ä¹˜è»Šåˆ¸", type: "transport" },
                    { time: "09:40-10:12", location: "åœŸåº„æ¸¯-è‰å£æ¸¯", note: "æ­ä¹˜å·´å£«ï¼ˆå‚æ‰‹ç·šï¼‰", type: "transport" },
                    { time: "10:18-10:30", location: "è‰å£æ¸¯-ç´…é›²äº­", note: "è½‰ä¹˜å¯’æºªæ€¥è¡Œç·šï¼ˆéŠœæ¥ç­æ¬¡ï¼‰", type: "transport" },
                    { time: "10:42-10:47", location: "å¯’éœæºªçºœè»Š", note: "ç´…é›²äº­ç«™æ­ä¹˜çºœè»Šè»Šç¨‹ç´„5åˆ†é˜(çºœè»Š6åˆ†ä¸€ç­)çºœè»Šé€£æ¥ç´…é›²äº­ç«™å’Œå±±é ‚ç«™ï¼Œæ¯12åˆ†é˜ä¸€ç­ã€‚", type: "transport" },
                    { time: "11:00-13:00", location: "å¯’éœæºª", note: "ä¹˜åçºœè»Šåˆ°å±±é ‚ï¼Œç„¶å¾Œå¾’æ­¥ä¸‹å±±", type: "sightseeing" },
                    { time: "13:00-13:17", location: "ç´…é›²äº­-ã‚ªãƒªãƒ¼ãƒ–å…¬åœ’å£", note: "å¯’éœæºªæ€¥è¡Œç·š(ç´…é›²äº­ç«™)è‡³æ©„æ¬–å…¬åœ’ï¼ˆé…åˆæ™¯é»æ™‚é–“ï¼Œèª¿æ•´å·´å£«æŠµé”æ™‚é–“ï¼‰", type: "transport" },
                    { time: "13:17-14:30", location: "æ©„æ¬–å…¬åœ’", note: "æ‹æ”é­”å¥³å®…æ€¥ä¾¿é¢¨è»Šç…§ï¼Œé€›å¸Œè‡˜é¢¨æ ¼çš„å»ºç¯‰ç‰©å’Œåº­åœ’", type: "sightseeing" },
                    { time: "15:00-15:22", location: "ã‚ªãƒªãƒ¼ãƒ–å…¬åœ’å£-åœ‹éš›ãƒ›ãƒ†ãƒ«", note: "ç”°ãƒæµ¦æ˜ ç”»æ‘ç·š(æ©„æ¬–å…¬åœ’åˆ°å¤©ä½¿ä¹‹è·¯)åœ‹éš›ãƒ›ãƒ†ãƒ«ä¸‹è»Šæ­¥è¡Œ5åˆ†é˜åˆ°å¤©ä½¿ä¹‹è·¯", type: "transport" },
                    { time: "15:30-16:00", location: "å¤©ä½¿ä¹‹è·¯", note: "å…ˆæŸ¥è©¢ç•¶å¤©çš„æ½®æ±æ‹ç…§ã€æ¬£è³é¢¨æ™¯", type: "sightseeing" },
                    { time: "16:58-17:08", location: "åœ‹éš›ãƒ›ãƒ†ãƒ«-åœŸåº„æ¸¯", note: "ç”°ãƒæµ¦æ˜ ç”»æ‘ç·š(å¤©ä½¿ä¹‹è·¯åˆ°åœŸåº„æ¸¯)èµ°å›åœ‹éš›ãƒ›ãƒ†ãƒ«æ­è»Š", type: "transport" },
                    { time: "17:30-18:30", location: "åœŸåº„æ¸¯-é«˜æ¾", note: "å›ç¨‹èˆ¹ç­ (èˆªè¡Œç´„1å°æ™‚)", type: "transport" },
                    { time: "æ™šé¤", location: "æ™šé¤", note: "åœ¨é«˜æ¾æ¸¯å‘¨é‚Šæˆ–å‰å¾€é£¯åº—é€”ä¸­ç”¨é¤", type: "dining" },
                    { time: "Check-in", location: "FAV HOTEL TAKAMATSU", note: "JRé«˜æ¾ç«™æ­¥è¡Œ5åˆ†é˜è‡³é«˜æ¾ç¯‰æ¸¯ç«™ä¹˜ç´å¹³é›»éµå¹³ç·šåœ¨ç“¦ç”ºç«™ä¸‹è»Š(è»Šç¨‹7åˆ†é˜)ã€‚ç“¦ç”ºç«™æ­¥è¡Œç´„4åˆ†é˜(ç´„400å…¬å°º)å³å¯æŠµé”", type: "stay" },
                ]
            },
            {
                date: "12/1(ä¸€)",
                theme: "é«˜æ¾/ç¦å±±",
                city: "é«˜æ¾ãƒ»ç¦å±±",
                events: [
                    { time: "08:00-08:25", location: "é£¯åº—-é«˜æ¾ç«™", note: "å¯„æ”¾3ä»¶å¤§è¡Œæè‡³ç½®ç‰©æ«ƒ", type: "transport" },
                    { time: "08:25-08:35", location: "é«˜æ¾ç«™-æ —æ—å…¬åœ’åŒ—å£ç«™", note: "JR åˆ—è»Š (ä½¿ç”¨ JR Pass)ï¼Œæ­¥è¡Œè‡³æ —æ—å…¬åœ’", type: "transport" },
                    { time: "08:45-11:15", location: "æ —æ—å…¬åœ’", note: "æ¬£è³æ—¥æœ¬æœ€ç¾åº­åœ’ï¼Œä½¿ç”¨JR Pass", type: "sightseeing" },
                    { time: "11:25-11:35", location: "æ —æ—å…¬åœ’åŒ—å£ç«™-é«˜æ¾ç«™", note: "JR åˆ—è»Š", type: "transport" },
                    { time: "11:45-12:45", location: "ç‰è—»å…¬åœ’ (é«˜æ¾åŸè·¡)", note: "éŠè¦½é«˜æ¾åŸéºå€", type: "sightseeing" },
                    { time: "12:45-13:30", location: "åˆé¤/å–è¡Œæ", note: "åœ¨JRç«™å‘¨é‚Šç”¨é¤", type: "dining" },
                    { time: "14:10-15:02", location: "é«˜æ¾ç«™-å²¡å±±ç«™", note: "MarineLiner38è™Ÿ (52åˆ†é˜)", type: "transport" },
                    { time: "15:11-15:27", location: "å²¡å±±ç«™-ç¦å±±ç«™", note: "JRå±±é™½æ–°å¹¹ç·š (16åˆ†é˜)", type: "transport" },
                    { time: "Check-in", location: "Daiwa Roynet Hotel Fukuyama Ekimae", type: "stay" },
                    { time: "16:30-17:30", location: "ç¦å±±åŸå…¬åœ’", note: "å¤©å®ˆå¤–è§€ã€çŸ³å£ã€è­·åŸæ²³", type: "sightseeing" },
                    { time: "æ™šé¤", location: "ãŠå¥½ã¿ç„¼ã é‰„æ¿ç„¼ã ã„ã¤ã¡ã‚ƒã‚“", note: "åœ¨åœ°ååº— (900-1,200 æ—¥åœ“)", type: "dining" },
                    { time: "æ™šä¸Š", location: "å®®é€šã‚Šå•†åº—è¡—", note: "å•†åº—è¡—", type: "sightseeing" }
                ]
            },
            {
                date: "12/2(äºŒ)",
                theme: "å³¶æ³¢æµ·é“",
                city: "å°¾é“ãƒ»ç”Ÿå£å³¶",
                events: [
                    { time: "07:45-08:06", location: "ç¦å±±ç«™-å°¾é“ç«™", note: "è»Šç¨‹21åˆ†é˜", type: "transport" },
                    { time: "08:10-08:50", location: "å°¾é“ç«™ç§Ÿå–®è»Š / æ¸¡èˆ¹è‡³å‘å³¶", type: "transport" },
                    { time: "08:50-13:00", location: "é¨å–®è»Šï¼šå‘å³¶â†’å› å³¶â†’ç”Ÿå£å³¶â†’ç€¨æˆ¶ç”°æ¸¯", note: "å…¨ç¨‹ç´„26å…¬é‡Œï¼Œè¼•é¬†é¨ç´„2.5å°æ™‚", type: "transport" },
                    { time: "13:00-14:20", location: "åˆé¤ (ã—ã¾ãªã¿ãƒ­ãƒãƒ³ç€¬æˆ¸ç”°æ¸¯)", note: "æä¾›ä¸¼é£¯å¤šç¨®ç¶“å…¸æ–™ç†", type: "dining" },
                    { time: "14:20-14:35", location: "é‚„å–®è»Š", note: "ç€¨æˆ¶ç”°è§€å…‰æ¡ˆå†…æ‰€", type: "activity" },
                    { time: "15:00-15:44", location: "ç€¨æˆ¶ç”°æ¸¯â†’å°¾é“è»Šç«™", note: "14:45 å·¦å³å»è²·ç¥¨æ¸¡è¼ªèˆªç¨‹ç´„40åˆ†é˜(1.5ï½2å°æ™‚æ‰æœ‰ä¸€ç­ï¼Œå‰ä¸€ç­èˆ¹æ˜¯13:25)", type: "transport" },
                    { time: "15:50-16:10", location: "å°¾é“è»Šç«™â†’çºœè»Šå±±éº“ç«™", note: "æ­¥è¡Œç´„ 15 åˆ†é˜(å°¾é“åœ¨12æœˆåˆçš„æ—¥è½æ™‚é–“å¤§ç´„åœ¨ 16:50è‡³17:00 ä¹‹é–“)", type: "transport" },
                    { time: "16:10-16:20", location: "åƒå…‰å¯ºå…¬åœ’å±•æœ›å°", note: "æ­çºœè»Šä¸Šå±± (è»Šç¨‹3åˆ†é˜)ï¼Œå±•æœ›å°çœºæœ›ç€¨æˆ¶å…§æµ·çš„å³¶å¶¼é¢¨å…‰ã€‚", type: "transport" },
                    { time: "16:20-17:45", location: "åƒå…‰å¯º â†’ è²“ä¹‹ç´°é“ â†’ å°¾é“è»Šç«™", note: "é †è‘—ã€Œæ–‡å­¸ä¹‹é“ã€æ…¢æ…¢æ­¥è¡Œä¸‹å±±", type: "sightseeing" },
                    { time: "17:45-18:10", location: "æ™šé¤ (æœˆæ³¢é£Ÿå ‚)", note: "è·å°¾é“ç«™ç´„300å…¬å°ºï¼Œå®šé£Ÿç´„Â¥1000ä»¥ä¸‹", type: "dining" },
                    { time: "18:29-18:50", location: "å°¾é“ç«™-ç¦å±±ç«™", note: "JRå±±é™½æœ¬ç·š", type: "transport" },
                ]
            },
            {
                date: "12/3(ä¸‰)",
                theme: "å»£å³¶",
                city: "å»£å³¶",
                events: [
                    { time: "08:25-08:49", location: "ç¦å±±ç«™-å»£å³¶ç«™", note: "æ–°å¹¹ç·š (24åˆ†é˜)", type: "transport" },
                    { time: "08:50-09:20", location: "å»£å³¶ç«™-åŸçˆ†åœ“é ‚é¤¨", note: "æ­ä¹˜é›»è»Š", type: "transport" },
                    { time: "09:20-09:40", location: "åŸçˆ†åœ“é ‚é¤¨", note: "é–‹æ”¾çš„æˆ¶å¤–éºå€", type: "sightseeing" },
                    { time: "10:00-12:00", location: "å’Œå¹³ç´€å¿µè³‡æ–™é¤¨", note: "æ­¥è¡Œç´„7åˆ†é˜ï¼ˆç´„500å…¬å°ºï¼‰ï¼Œç©¿éå…ƒå®‰æ©‹å³å¯æŠµé”è³‡æ–™é¤¨", type: "sightseeing" },
                    { time: "12:15-13:30", location: "åˆé¤ (ç´™é¶´å»£å ´é™„è¿‘)", note: "æ­¥è¡Œç´„ 9 åˆ†é˜ï¼ˆç´„650å…¬å°ºï¼‰ï¼Œäº«ç”¨å»£å³¶åç‰©ã€Œå»£å³¶ç‡’ã€", type: "dining" },
                    { time: "13:30-14:00", location: "ç´™é¶´å»£å ´", note: "", type: "sightseeing" },
                    { time: "14:20-15:00", location: "å»£å³¶åŸ", note: "è¢«åŸå­å½ˆæ‘§æ¯€å¾Œé‡å»º", type: "sightseeing" },
                    { time: "15:10-17:00", location: "ç¸®æ™¯åœ’", note: "ç¾éº—çš„åº­åœ’", type: "sightseeing" },
                    { time: "17:15-19:30", location: "é€›è¡—èˆ‡æ™šé¤ (æœ¬é€šå•†åº—è¡—)", note: "å»£å³¶æœ€ç†±é¬§çš„è³¼ç‰©å€", type: "dining" },
                    { time: "æ™šé¤", location: "ç‰¡è £æ˜Ÿé°»å£½å¸é£¯ä¾¿ç•¶", note: "åœ¨è»Šç«™å…§å¯ä»¥è²·åˆ°ï¼Œåƒ¹æ ¼ç´„1,300æ—¥åœ“", type: "dining" },
                    { time: "æ™šä¸Š", location: "å»£å³¶ç«™-ç¦å±±ç«™", note: "æ­æ–°å¹¹ç·š (ç´„23åˆ†)", type: "transport" },
                ]
            },
            {
                date: "12/4(å››)",
                theme: "å®®å³¶",
                city: "å®®å³¶",
                events: [
                    { time: "08:25-08:49", location: "ç¦å±±ç«™-å»£å³¶ç«™", note: "æ–°å¹¹ç·š (24åˆ†é˜)", type: "transport" },
                    { time: "09:00-09:27", location: "å»£å³¶ç«™-å®®å³¶æ¸¯", note: "JRè‡³å®®å³¶å£ç«™ç´„27åˆ†ï¼Œè»Šè³‡ç´„ï¿¥420ã€‚è½‰JRè¥¿æ—¥æœ¬å®®å³¶æ¸¡è¼ª", type: "transport" },
                    { time: "10:15-11:15", location: "åš´å³¶ç¥ç¤¾", note: "æµ·ä¸Šå¤§é³¥å±… (æ¸¡è¼ªæœƒç¹è¡Œé è¿‘)", type: "sightseeing" },
                    { time: "11:50-12:50", location: "è¡¨åƒé“å•†åº—è¡— / åˆé¤", note: "ã¿ã‚„ã˜ã¾é£Ÿå ‚ (ç‰¡è £é£¯å®šé£ŸÂ¥1000å·¦å³)", type: "dining" },
                    { time: "13:00-14:20", location: "å®®å³¶çºœè»Š / å½Œå±±é ‚éƒ¨", note: "å¦‚æ’éšŠæ™‚é–“é•·ï¼Œå¯è€ƒæ…®æ”¾æ£„å¤§è–é™¢æˆ–ç¸®çŸ­è³¼ç‰©æ™‚é–“", type: "sightseeing" },
                    { time: "14:20-15:20", location: "å¤§è–é™¢", note: "", type: "sightseeing" },
                    { time: "15:47-16:14", location: "å®®å³¶å£ç«™-å»£å³¶ç«™", note: "JR", type: "transport" },
                    { time: "16:30-17:00", location: "å»£å³¶ç«™-ç¦å±±ç«™", note: "æ–°å¹¹ç·š", type: "transport" },
                    { time: "æ™šä¸Š", location: "ç¦å±±ç«™-å²¡å±±ç«™", note: "å…ˆè‡³é£¯åº—å–è¡Œæï¼Œå†æ­æ–°å¹¹ç·š", type: "transport" },
                    { time: "Check-in", location: "å¤§å’ŒRoyneté£¯åº—-å²¡å±±ç«™å‰", note: "", type: "stay" },
                ]
            },
            {
                date: "12/5(äº”)",
                theme: "ç¥æˆ¶",
                city: "ç¥æˆ¶",
                events: [
                    { time: "08:29-09:00", location: "å²¡å±±ç«™-æ–°ç¥æˆ¶è»Šç«™", note: "", type: "transport" },
                    { time: "09:00-12:00", location: "åŒ—é‡ç•°äººé¤¨è¡—", note: "é¢¨è¦‹é›é¤¨å’ŒèŒé»ƒä¹‹é¤¨æœ€å…·ä»£è¡¨æ€§", type: "sightseeing" },
                    { time: "13:00-13:30", location: "ç”Ÿç”°ç¥ç¤¾", note: "", type: "sightseeing" },
                    { time: "13:30-15:30", location: "å—äº¬ç”º", note: "åˆé¤ï¼šé¾é³³é…’å®¶(å»£æ±é¢¨æ’éª¨é£¯ç‰›è…©é£¯)", type: "dining" },
                    { time: "15:30-16:30", location: "ç¾åˆ©å …å…¬åœ’", note: "çœ‹æ¸¯å£å¤œæ™¯ã€ç¥æˆ¶æ¸¯å¡”ã€BE KOBE æ‰“å¡é»ã€‚", type: "sightseeing" },
                    { time: "æ™šé¤", location: "ç¥æˆ¶ç‰›Steakland Kobe-kan", note: "æ­¥è¡Œåˆ°ã€Œå…ƒç”ºç«™ã€10-15 åˆ†é˜ï¼Œå…ƒç”ºé™„è¿‘åƒæ™šé¤ç¥æˆ¶ç‰›", type: "dining" },
                    { time: "18:30-19:05", location: "æ–°ç¥æˆ¶ç«™-å²¡å±±ç«™", note: "JRå±±é™½æ–°å¹¹ç·š (35åˆ†é˜)", type: "transport" },
                ]
            },
            {
                date: "12/6(å…­)",
                theme: "å²¡å±±&å€‰æ•·",
                city: "å²¡å±±ãƒ»å€‰æ•·",
                events: [
                    { time: "08:36-08:54", location: "å²¡å±± å‰å‚™æ´¥ç«™", note: "JRå‰å‚™ç·š (18åˆ†é˜)ã€‚æ¯å°æ™‚1ç­", type: "transport" },
                    { time: "09:10-10:30", location: "å‰å‚™æ´¥ç¥ç¤¾", note: "æ¡ƒå¤ªéƒå‚³èªªç›¸é—œ", type: "sightseeing" },
                    { time: "10:46-11:19", location: "å‰å‚™æ´¥ç«™-å²¡å±±ç«™-å€‰æ•·ç«™", note: "JRå‰å‚™ç·šè½‰JRå±±é™½æœ¬ç·š", type: "transport" },
                    { time: "11:40-14:40", location: "å€‰æ•·ç¾è§€ / åˆé¤", note: "å¸¸å³è¡›é–€é£Ÿå ‚ (å®¶åº­é¢¨å®šé£Ÿç´„999å…ƒä»¥ä¸‹)", type: "dining" }, 
                    { time: "14:40-15:00", location: "é˜¿æ™ºç¥ç¤¾", note: "å€‰æ•·ç¾è§€åœ°å€æ­¥è¡Œ190å…¬å°º", type: "sightseeing" },
                    { time: "15:00-16:00", location: "æ—æºåéƒå•†åº—", note: "å¯è‡³ä¸‰æ¨“å±•æœ›å°", type: "sightseeing" },
                    { time: "æ™šä¸Š", location: "å€‰æ•·å¤œæ™¯", note: "æ—æºåéƒå•†åº—ä¸‰æ¨“å±•æœ›å° / å€‰æ•·å·æ²¿å²¸å¤œé–“é»ç‡ˆ", type: "sightseeing" },
                    { time: "è³¼ç‰©", location: "ä¸‰äº•OUTLET PARK å€‰æ•·", type: "sightseeing" },
                    { time: "æ™šé¤", location: "å¸¸ç›¤é£Ÿå ‚ (~999 æ—¥åœ“å®¶å¸¸é¢¨ç…®é­š/ç‡’é­šå®šé£Ÿ)", type: "dining" },
                    { time: "æ™šä¸Š", location: "å€‰æ•·ç«™-å²¡å±±ç«™", note: "è»Šç¨‹16åˆ†é˜", type: "transport" },
                ]
            },
            {
                date: "12/7(æ—¥)",
                theme: "å²¡å±±/è¿”åœ‹",
                city: "å²¡å±±",
                events: [
                    { time: "08:00-10:30", location: "å²¡å±±å¾Œæ¨‚åœ’ + å²¡å±±åŸå¤–è§€", note: "æ—¥æœ¬ä¸‰å¤§ååœ’ä¹‹ä¸€", type: "sightseeing" },
                    { time: "10:45-11:05", location: "å¾Œæ¨‚åœ’-é£¯åº—", note: "æ­¥è¡Œ+å–è¡Œæ", type: "transport" },
                    { time: "11:15-12:15", location: "åˆé¤ (å²¡å±±è»Šç«™å…§æˆ–åœ°ä¸‹è¡—)", note: "å²¡å±±ä¸€ç•ªè¡—æˆ–SANSUTE å²¡å±±", type: "dining" },
                    { time: "12:40-13:10", location: "å²¡å±±è»Šç«™å·´å£«ç«™-å²¡å±±æ©Ÿå ´", note: "2è™Ÿå·´å£«æœˆå°æ­ä¹˜12:40ç­æ¬¡", type: "transport" },
                    { time: "15:25", location: "æ­é£›æ©Ÿ", note: "åœ‹éš›ç·šéœ€æå‰2.5å°æ™‚åˆ°å ´", type: "transport" },
                ]
            },
        ];

        // ä½å®¿è³‡è¨Šæ•¸æ“š 
        const accommodationData = [
            { 
                checkIn: "2025/11/29", checkOut: "2025/11/30", 
                name: "é«˜æ¾ç«™å‰è¶…ç´šæ—…é¤¨ (Hyper-inn Takamatsu Ekimae)", 
                platform: "AOGDA", booker: "PEILING LIAO", 
                note: "ç„¡" 
            },
            { 
                checkIn: "2025/11/30", checkOut: "2025/12/01", 
                name: "é«˜æ¾fav é«˜æ¾é£¯åº— (fav TAKAMATSU)", 
                platform: "Agoda", booker: "SHU-YU HSIEH", 
                note: "ç„¡" 
            },
            { 
                checkIn: "2025/12/01", checkOut: "2025/12/04", 
                name: "ç¦å±±ç«™å‰å¤§å’ŒROYNETé…’åº— (Daiwa Roynet Hotel Fukuyama-Ekimae)", 
                platform: "Trip.com", booker: "LIAO PEILING", 
                note: "ç„¡" 
            },
            { 
                checkIn: "2025/12/04", checkOut: "2025/12/06", 
                name: "å²¡å±±ç«™å‰å¤§å’ŒROYNETé£¯åº— (Daiwa Roynet Hotel Okayama-Ekimae)", 
                platform: "AOGDA", booker: "PEILING LIAO", 
                note: "æˆ¿å‹ï¼šä¸‰äººæˆ¿ (Triple Room)" 
            },
            { 
                checkIn: "2025/12/06", checkOut: "2025/12/07", 
                name: "å²¡å±±ç«™å‰å¤§å’ŒROYNETé£¯åº— (Daiwa Roynet Hotel Okayama-Ekimae)", 
                platform: "KLOOK", booker: "PEILING LIAO", 
                note: "æˆ¿å‹ï¼šé›™åºŠ/é›™äººæˆ¿ (2é–“) (Twin/Double Room)" 
            }
        ];
        
        // ç­æ©Ÿè³‡è¨Šæ•¸æ“š
        const flightData = [
            {
                type: "å»ç¨‹",
                flightNo: "IT 214",
                airline: "tigersmart",
                duration: "2å°æ™‚ 25åˆ†",
                departureTime: "11:10",
                departureCity: "TPE (å°åŒ—(æ¡ƒåœ’))",
                arrivalTime: "14:35",
                arrivalCity: "OKJ (å²¡å±±)",
            },
            {
                type: "å›ç¨‹",
                flightNo: "IT 215",
                airline: "tigersmart",
                duration: "3å°æ™‚ 5åˆ†",
                departureTime: "15:25",
                departureCity: "OKJ (å²¡å±±)",
                arrivalTime: "17:30",
                arrivalCity: "TPE (å°åŒ—(æ¡ƒåœ’))",
            }
        ];

        let activeView = itineraryData[1].date; // é è¨­ç¬¬äºŒå¤©

        const typeStyles = {
            'sightseeing': { label: 'æ™¯é»', bg: 'bg-teal-50', border: 'border-teal-500', ring: 'bg-teal-500 ring-teal-100' },
            'dining': { label: 'é¤å»³', bg: 'bg-red-50', border: 'border-red-500', ring: 'bg-red-500 ring-red-100' },
            'transport': { label: 'äº¤é€š', bg: 'bg-indigo-50', border: 'border-indigo-500', ring: 'bg-indigo-500 ring-indigo-100' },
            'stay': { label: 'ä½å®¿', bg: 'bg-orange-50', border: 'border-orange-500', ring: 'bg-orange-500 ring-orange-100' },
            'activity': { label: 'æ´»å‹•/è³¼ç‰©', bg: 'bg-yellow-50', border: 'border-yellow-500', ring: 'bg-yellow-500 ring-yellow-100' }
        };
        
        function canInteract() { return false; }
        function handleDragStart(e) {}
        function handleDragOver(e) {}
        function handleDrop(e) {}
        function handleDragEnd(e) {}
        function toggleEdit(element, eventIndex, field) {}
        function deleteEvent(eventIndex) {}
        function setupEventListeners(contentContainer) {}


        // --- æ¸²æŸ“å°è¦½åˆ— ---

        function renderDateNav() {
            const navContainer = document.getElementById('date-nav');
            navContainer.innerHTML = '';
            
            // 1. ç­æ©Ÿè³‡è¨ŠæŒ‰éˆ•
            const isFlightActive = activeView === 'FLIGHTS';
            const flightButton = document.createElement('button');
            flightButton.setAttribute('data-view', 'FLIGHTS');
            flightButton.onclick = () => selectView('FLIGHTS');
            
            // å‹è‰²(Kachi-iro) æ·±è—
            flightButton.className = `
                flex-shrink-0 w-24 md:w-28 p-2 md:p-3 rounded transition-all duration-300
                ${isFlightActive
                    ? 'bg-[#2e4b71] text-white shadow-md' 
                    : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-200'
                }
            `;
            flightButton.innerHTML = `
                <div class="text-base md:text-lg font-serif-jp">âœˆï¸</div> 
                <div class="text-sm md:text-base font-medium mt-1 font-serif-jp">ç­æ©Ÿ</div> 
            `;
            navContainer.appendChild(flightButton);


            // 2. ä½å®¿è³‡è¨ŠæŒ‰éˆ•
            const isAccommodationActive = activeView === 'ACCOMMODATION';
            const accButton = document.createElement('button');
            accButton.setAttribute('data-view', 'ACCOMMODATION');
            accButton.onclick = () => selectView('ACCOMMODATION');
            
            // é‰›ä¸¹è‰² (Entan) ç´…æ©˜
            accButton.className = `
                flex-shrink-0 w-24 md:w-28 p-2 md:p-3 rounded transition-all duration-300
                ${isAccommodationActive
                    ? 'bg-[#d65a31] text-white shadow-md' 
                    : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-200'
                }
            `;
            accButton.innerHTML = `
                <div class="text-base md:text-lg font-serif-jp">ğŸ </div> 
                <div class="text-sm md:text-base font-medium mt-1 font-serif-jp">ä½å®¿</div> 
            `;
            navContainer.appendChild(accButton);


            // 3. æ—¥æœŸè¡Œç¨‹æŒ‰éˆ•
            itineraryData.forEach(day => {
                const isActive = day.date === activeView;
                
                const dateParts = day.date.split('(');
                const date = dateParts[0]; 
                const weekDay = dateParts[1].replace(')', ''); 

                const button = document.createElement('button');
                button.setAttribute('data-view', day.date);
                button.onclick = () => selectView(day.date);

                const cityLabel = day.city.split('ãƒ»')[0];

                button.className = `
                    flex-shrink-0 w-24 md:w-28 p-2 md:p-3 rounded transition-all duration-300
                    ${isActive 
                        ? 'bg-[#4b5563] text-white shadow-md' // ç‚­ç°è‰²
                        : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-200'
                    }
                `;

                button.innerHTML = `
                    <div class="text-xs md:text-sm font-medium ${isActive ? 'text-gray-300' : 'text-gray-400'} truncate font-serif-jp">${cityLabel}</div>
                    <div class="text-lg md:text-xl font-bold mt-1 font-serif-jp">${date}</div> 
                    <div class="text-sm md:text-base ${isActive ? 'font-light' : 'font-medium'}">é€±${weekDay}</div> 
                `;

                navContainer.appendChild(button);
            });

            const activeElement = navContainer.querySelector(`[data-view="${activeView}"]`);
            if (activeElement) {
                setTimeout(() => {
                    activeElement.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                }, 100);
            }
        }

        /**
         * æ¸²æŸ“ç­æ©Ÿå…§å®¹ - æ—¥å¼é¢¨æ ¼ (æ¥µç°¡ã€å®‹é«”æ¨™é¡Œã€æ·±è—è‰²ç³»)
         */
        function renderFlightContent() {
            const contentContainer = document.getElementById('itinerary-content');
            let html = `
                <div class="p-2 mb-4 mt-2 text-center">
                    <h2 class="text-2xl md:text-3xl font-serif-jp font-bold text-[#2e4b71] tracking-widest border-b-2 border-[#2e4b71] inline-block pb-2">ç­æ©Ÿè³‡è¨Š</h2>
                    <p class="text-sm md:text-base text-gray-500 mt-3 font-serif-jp">è«‹æ³¨æ„ï¼šåœ‹éš›ç·šéœ€æå‰2.5å°æ™‚åˆ°å ´ã€‚</p>
                </div>
                <div class="space-y-6">
            `;

            flightData.forEach((flight, index) => {
                // å‹è‰² (Kachi-iro) æ·±è— èˆ‡ è˜‡èŠ³è‰² (Suoh) æš—ç´… å€åˆ†å»å›ç¨‹
                const themeColor = flight.type === 'å»ç¨‹' ? 'border-[#2e4b71]' : 'border-[#9e3a3a]';
                const textColor = flight.type === 'å»ç¨‹' ? 'text-[#2e4b71]' : 'text-[#9e3a3a]';
                const iconBg = flight.type === 'å»ç¨‹' ? 'bg-[#2e4b71]' : 'bg-[#9e3a3a]';

                html += `
                    <div class="bg-washi p-0 rounded-sm shadow-sm relative overflow-hidden group">
                        <!-- è£é£¾æ€§å·¦å´é‚Šæ¢ -->
                        <div class="absolute left-0 top-0 bottom-0 w-1.5 ${iconBg}"></div>

                        <div class="p-5 md:p-6 pl-7">
                            <div class="flex justify-between items-baseline border-b border-dashed border-gray-300 pb-3 mb-4">
                                <h3 class="text-xl md:text-2xl font-serif-jp font-bold ${textColor} tracking-wider">
                                    <span class="inline-block px-2 py-0.5 text-sm text-white ${iconBg} align-middle mr-2 rounded-sm" style="font-family: 'Noto Serif TC';">${flight.type}</span>
                                    ${flight.flightNo}
                                </h3>
                                <span class="text-sm md:text-base text-gray-500 font-serif-jp tracking-wide">${flight.airline}</span>
                            </div>
                            
                            <div class="space-y-6">
                                <!-- è¡Œç¨‹æ™‚é–“è»¸å‘ˆç¾ -->
                                <div class="relative flex flex-col md:flex-row justify-between items-start md:items-center gap-6">
                                    
                                    <!-- èµ·é£› -->
                                    <div class="flex-1">
                                        <div class="text-xs text-gray-400 font-serif-jp mb-1 tracking-widest">DEPARTURE</div>
                                        <div class="font-mono text-3xl md:text-4xl font-bold text-gray-800">${flight.departureTime}</div>
                                        <div class="text-base text-gray-600 mt-1 font-serif-jp">${flight.departureCity}</div>
                                    </div>

                                    <!-- é£›è¡Œæ™‚é–“ (ä¸­é–“è£é£¾) -->
                                    <div class="hidden md:flex flex-col items-center justify-center w-32">
                                        <div class="text-xs text-gray-400 mb-1">${flight.duration}</div>
                                        <div class="w-full h-px bg-gray-300 relative">
                                            <div class="absolute right-0 -top-1 w-2 h-2 bg-gray-300 rounded-full"></div>
                                        </div>
                                        <div class="text-xl mt-1 text-gray-300">âœˆ</div>
                                    </div>

                                    <!-- æŠµé” -->
                                    <div class="flex-1 md:text-right">
                                        <div class="text-xs text-gray-400 font-serif-jp mb-1 tracking-widest">ARRIVAL</div>
                                        <div class="font-mono text-3xl md:text-4xl font-bold text-gray-800">${flight.arrivalTime}</div>
                                        <div class="text-base text-gray-600 mt-1 font-serif-jp">${flight.arrivalCity}</div>
                                    </div>
                                    
                                    <!-- æ‰‹æ©Ÿç‰ˆé£›è¡Œæ™‚é–“ -->
                                    <div class="md:hidden w-full border-t border-dashed border-gray-200 pt-3 text-sm text-gray-500">
                                        â±ï¸ é£›è¡Œæ™‚é–“: <span class="font-mono">${flight.duration}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });

            html += `</div>`;
            contentContainer.innerHTML = html;
        }


        /**
         * æ¸²æŸ“ä½å®¿å…§å®¹ - æ—¥å¼æ—…é¤¨é¢¨æ ¼ (æš–è‰²ç³»ã€å¡ç‰‡å¼)
         */
        function renderAccommodationContent() {
            const contentContainer = document.getElementById('itinerary-content');
            let html = `
                <div class="p-2 mb-4 mt-2 text-center">
                    <h2 class="text-2xl md:text-3xl font-serif-jp font-bold text-[#d65a31] tracking-widest border-b-2 border-[#d65a31] inline-block pb-2">ä½å®¿è³‡è¨Š</h2>
                </div>
                <div class="space-y-6">
            `;

            accommodationData.forEach((hotel, index) => {
                const noteContent = hotel.note && hotel.note !== 'ç„¡' ? hotel.note : 'ç„¡ç‰¹åˆ¥å‚™è¨»';

                html += `
                    <div class="bg-washi rounded-sm shadow-sm border border-gray-100 relative overflow-hidden">
                        <!-- é ‚éƒ¨è£é£¾æ¢ -->
                        <div class="h-1 w-full bg-[#d65a31] opacity-80"></div>
                        
                        <div class="p-5 md:p-6">
                            <h3 class="text-xl md:text-2xl font-serif-jp font-bold text-gray-800 leading-snug mb-4">
                                ${hotel.name}
                            </h3>
                            
                            <div class="grid grid-cols-1 gap-4 text-gray-700">
                                <div class="flex flex-col bg-white p-3 border border-gray-100 rounded-sm">
                                    <span class="text-xs text-[#d65a31] font-serif-jp mb-1 tracking-wider">å…¥ä½æœŸé–“</span>
                                    <div class="font-mono text-lg md:text-xl font-medium">
                                        ${hotel.checkIn} <span class="text-gray-300 mx-2">/</span> ${hotel.checkOut}
                                    </div>
                                </div>

                                <div class="flex items-center justify-between text-sm md:text-base px-1">
                                    <div>
                                        <span class="text-gray-400 mr-2 font-serif-jp">é è¨‚å¹³å°</span>
                                        <span class="font-medium">${hotel.platform}</span>
                                    </div>
                                    <div>
                                        <span class="text-gray-400 mr-2 font-serif-jp">é è¨‚è€…</span>
                                        <span class="font-medium">${hotel.booker}</span>
                                    </div>
                                </div>

                                <div class="mt-2 pt-3 border-t border-dashed border-gray-300">
                                    <span class="text-xs text-gray-400 block mb-2 font-serif-jp">å‚™è¨»äº‹é …</span>
                                    <p class="text-sm md:text-base text-gray-600 leading-relaxed bg-[#f2f4f6] p-3 rounded-sm font-light">
                                        ${noteContent}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });

            html += `</div>`;
            contentContainer.innerHTML = html;
        }

        /**
         * æ¸²æŸ“ç•¶æ—¥è¡Œç¨‹å…§å®¹ (ç¶­æŒåŸå„ªåŒ–ç‰ˆï¼Œä½†å¥—ç”¨å…¨åŸŸå­—é«”è®Šæ›´)
         */
        function renderItineraryContent(date) {
            const contentContainer = document.getElementById('itinerary-content');
            const dayData = itineraryData.find(d => d.date === date);

            if (!dayData) {
                contentContainer.innerHTML = `<div class="text-center p-8 text-lg text-gray-500 font-serif-jp">æ‰¾ä¸åˆ° ${date} çš„è¡Œç¨‹è³‡è¨Šã€‚</div>`;
                return;
            }

            const fullDate = dayData.date; 
            const dateParts = fullDate.split('(');
            const dateOnly = dateParts[0]; 
            const weekDayOnly = dateParts[1].replace(')', ''); 

            let html = `
                <div class="p-2 mb-4 mt-2">
                    <h2 class="text-xl md:text-2xl font-serif-jp font-bold text-gray-800 border-l-4 border-indigo-700 pl-3">${dateOnly} <span class="text-base font-normal text-gray-500 ml-1">(é€±${weekDayOnly})</span></h2> 
                    <p class="text-base md:text-lg text-indigo-700 font-medium pl-4 mt-1 font-serif-jp">${dayData.theme} &middot; ${dayData.city}</p> 
                </div>
                <div class="space-y-0">
            `;


            // è¡Œç¨‹æ™‚é–“è»¸
            dayData.events.forEach((event, index) => {
                const type = event.type || 'transport';
                const styles = typeStyles[type] || typeStyles['transport']; 
                
                html += `
                    <div class="flex relative itinerary-item" data-index="${index}">
                        
                        <div class="flex-shrink-0 time-column pt-3"> 
                            <div class="text-sm md:text-xl font-mono font-bold text-gray-600 inline-block px-1 py-0.5 rounded">
                                ${event.time}
                            </div>
                            
                            <div class="timeline-dot ${styles.ring} rounded-full ring-2 md:ring-4 z-10 shadow-sm bg-white"></div>
                        </div>

                        <div class="timeline-line"></div>
                        
                        <div class="flex-grow pb-6 pl-4 md:pb-8 md:pl-8"> 
                            <div class="${styles.bg} p-3 md:p-5 rounded-sm shadow-sm border-l-2 ${styles.border} timeline-card bg-opacity-60"> 
                                <div class="flex flex-col">
                                    <div class="flex items-start justify-between relative">
                                        <p class="text-lg md:text-xl font-bold text-gray-800 mr-2 leading-snug tracking-wide">
                                            ${event.location}
                                        </p>
                                    </div>
                                    
                                    <div class="mt-2 pt-2 md:mt-3 md:pt-3 border-t border-dashed border-gray-200 w-full flex flex-col md:flex-row md:justify-between md:items-end gap-2">
                                        ${event.note && event.note !== 'é»æ“Šæ–°å¢å‚™è¨»' ? `
                                            <p class="text-sm md:text-base text-gray-600 leading-relaxed w-full">
                                                ${event.note}
                                            </p>
                                        ` : `
                                            <p class="text-sm md:text-base text-gray-400 leading-relaxed w-full italic">
                                                ç„¡å‚™è¨»
                                            </p>
                                        `}

                                        <span class="self-start md:self-auto flex-shrink-0 text-xs md:text-sm font-medium px-2 py-0.5 rounded-sm border ${styles.border.replace('border-', 'text-')} bg-white/80">
                                            ${styles.label}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            });

            html += `</div>`;
            contentContainer.innerHTML = html;
        }

        function selectView(view) {
            if (activeView !== view) {
                activeView = view;
                renderDateNav();
                
                if (view === 'ACCOMMODATION') {
                    renderAccommodationContent();
                } else if (view === 'FLIGHTS') {
                    renderFlightContent();
                } 
                else {
                    renderItineraryContent(activeView);
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (itineraryData.length > 0) {
                activeView = itineraryData[1].date; 
                renderDateNav();
                renderItineraryContent(activeView);
            }
        });
    </script>
</body>
</html>